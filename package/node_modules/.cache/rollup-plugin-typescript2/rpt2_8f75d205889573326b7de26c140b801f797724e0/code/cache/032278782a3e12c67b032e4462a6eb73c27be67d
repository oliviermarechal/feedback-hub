{"code":"import { __awaiter } from \"tslib\";\nimport DefaultEmbed from './views/default-embed.svelte';\nexport class FeedbackHubSDK {\n    constructor(config) {\n        this.projectPublicId = config.projectPublicId;\n        // Fetch projet and set projectId from API\n        this.projectId = config.projectId;\n    }\n    addFeedback(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const feedbackContentData = {\n                projectId: this.projectId,\n                content: data.content,\n                type: data.type,\n                language: data.language,\n                email: data.email,\n            };\n            const result = yield fetch('http://localhost:3005/external/feedback', {\n                method: 'POST',\n                headers: {\n                    Authorization: `Bearer ${this.projectPublicId}`\n                }\n            });\n            if (result.ok) {\n                return;\n            }\n            // TODO confirm\n            const body = yield result.json();\n            throw new Error(body.message);\n        });\n    }\n    setUpFeedbackContainer(containerId) {\n        const container = document.getElementById(containerId);\n        if (!container) {\n            alert(`Container with id ${containerId} not found.`);\n            console.error(`Container with id ${containerId} not found.`);\n            return;\n        }\n        alert(`Container with id ${containerId} was FOUND.`);\n        const component = new DefaultEmbed({\n            target: container,\n            props: {\n            /* initialisez vos propriétés de composant ici */\n            },\n        });\n        return component;\n        // const { js } = compile(DefaultEmbed.toString(), {generate: 'dom'});\n        // const ComponentConstructor = new Function('container', js.code);\n        // // @ts-ignore\n        // const component = new ComponentConstructor(container) as SvelteComponent;\n        // return component;\n    }\n    ;\n}\n","references":["/Users/oliviermarechal/www/feedback-hub/test-sdk/node_modules/svelte/compiler.d.ts","/Users/oliviermarechal/www/feedback-hub/test-sdk/node_modules/svelte/types/index.d.ts"],"dts":{"name":"/Users/oliviermarechal/www/feedback-hub/test-sdk/node_modules/.cache/rollup-plugin-typescript2/placeholder/main.d.ts","writeByteOrderMark":false,"text":"import DefaultEmbed from './views/default-embed.svelte';\nexport declare class FeedbackHubSDK {\n    private readonly projectId;\n    private readonly projectPublicId;\n    constructor(config: any);\n    addFeedback(data: {\n        content: string;\n        type: 'bug' | 'enhance';\n        language: string;\n        email: string;\n    }): Promise<void>;\n    setUpFeedbackContainer(containerId: string): DefaultEmbed<{}, any, any> | undefined;\n}\n"}}
